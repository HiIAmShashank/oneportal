import { createMsalInstanceWithConfig } from '@one-portal/auth';

/**
 * MSAL Instance for {{ displayName }}
 *
 * Uses the factory pattern from @one-portal/auth to create a configured
 * MSAL instance with the app's authentication configuration.
 *
 * Configuration is loaded from environment variables in .env.local
 *
 * Benefits of factory pattern:
 * - Consistent configuration across all remote apps
 * - Automatic validation of environment variables
 * - Built-in error handling and logging
 * - Single source of truth for auth configuration
 */
const { instance, authConfig } = createMsalInstanceWithConfig('{{ appName }}');

export const msalInstance = instance;

export function getAuthConfig() {
  return authConfig;
}
